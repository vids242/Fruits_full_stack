1. Count the total number of active users.

[
  {
    $match: {
      "isActive" : true
    }
  },
  {
    $count: 'NoOfActiveUsers'
  }
]


{
  "NoOfActiveUsers": 6
}

--------------------------------------------------------------------------------------------------
2. Find the average age of male and female.

[
  {
    $group: {
      _id: "$gender",
      "AveAge" : {
        $avg : "$age"
      }
    }
  }
]


{
  "_id": "Male",
  "AveAge": 28.8
}
{
  "_id": "Female",
  "AveAge": 28.2
}

--------------------------------------------------------------------------------------------------
3. Give the total number of posts by active users.

[
  {
   $match: {
     "isActive" : true
   }
  },
  {
    $unwind: {
      path: "$posts",
    }
  },
  {
    $group: {
      _id: "$_id",
     "NoOfPost" : {
       $sum : 1
     }
    }
  }
]


{
  "_id": 1,
  "NoOfPost": 2
}
{
  "_id": 2,
  "NoOfPost": 2
}
{
  "_id": 4,
  "NoOfPost": 2
}
{
{
  "_id": 6,
  "NoOfPost": 2
}
{
  "_id": 8,
  "NoOfPost": 2
}

  "_id": 10,
  "NoOfPost": 2
}


--------------------------------------------------------------------------------------------------
4. Count the total number of comments.

[
  {                                             
    $unwind: {
      path: "$posts",
    }
  },
  {
    $unwind: {
      path: "$posts.comments",
    }
  },
  {
    $group: {
      _id:"$_id",
    "NoOfCommnet" : {
      $sum : 1
    }
    }
  }
]


{
  "_id": 1,
  "NoOfCommnet": 3
}
{
  "_id": 2,
  "NoOfCommnet": 3
}
{
  "_id": 3,
  "NoOfCommnet": 2
}
{
  "_id": 4,
  "NoOfCommnet": 3
}
{
  "_id": 5,
  "NoOfCommnet": 2
}
{
  "_id": 6,
  "NoOfCommnet": 2
}
{
  "_id": 7,
  "NoOfCommnet": 2
}
{
  "_id": 8,
  "NoOfCommnet": 3
}
{
  "_id": 9,
  "NoOfCommnet": 3
}
{
  "_id": 10,
  "NoOfCommnet": 3
}
----method2--------------------------------------------
[
  {                                             
    $unwind: {
      path: "$posts",
    }
  },
  {
    $project: {
      "NoOfComment" : {
        $size : "$posts.comments"
      }
    }
  },
  {
    $group: {
      _id: null,
      "TotalComment" : {
        $sum : "$NoOfComment"
      }
    }
  },
 
]

{
  "_id": null,
  "TotalComment": 26
}

--------------------------------------------------------------------------------------------------
5. List users and their total likes.

[
  {
    $unwind: {
      path: "$posts",
    }
  },
  {
    $group: {
      _id: "$_id",
     "Name" : {
       $first : "$name"
     },
      "NoOFLikes" : {
        $sum : "$posts.likes"
      }
    }
  }
  
]

{
  "_id": 1,
  "Name": "John Doe",
  "NoOFLikes": 35
}
{
  "_id": 2,
  "Name": "Alice Johnson",
  "NoOFLikes": 35
}
{
  "_id": 3,
  "Name": "Bob Williams",
  "NoOFLikes": 40
}
{
  "_id": 4,
  "Name": "Diana Brown",
  "NoOFLikes": 42
}
{
  "_id": 5,
  "Name": "Elijah Wilson",
  "NoOFLikes": 32
}
{
  "_id": 6,
  "Name": "Fiona Miller",
  "NoOFLikes": 47
}
{
  "_id": 7,
  "Name": "George Taylor",
  "NoOFLikes": 38
}
{
  "_id": 8,
  "Name": "Hannah Robinson",
  "NoOFLikes": 43
}
{
  "_id": 9,
  "Name": "Isaac Moore",
  "NoOFLikes": 32
}
{
  "_id": 10,
  "Name": "Jasmine Hill",
  "NoOFLikes": 43
}

--------------------------------------------------------------------------------------------------
6. Find the user name with the maximum likes of posts.

--------------------------------------------------------------------------------------------------
7. Count the number of active and inactive users.
--------------------------------------------------------------------------------------------------
8. List the cities with the highest average age.
--------------------------------------------------------------------------------------------------
9. Count the number of users in each city.
--------------------------------------------------------------------------------------------------
10. Count the number of users with JavaScript skills.
--------------------------------------------------------------------------------------------------
11. Count the number of users with each skill.
--------------------------------------------------------------------------------------------------
12. Find users who have posts with more than 15 likes and a specific skill.
--------------------------------------------------------------------------------------------------
13. Find users with the highest total number of likes across all posts.
--------------------------------------------------------------------------------------------------
14. Find users who have friends and count the number of friends.
--------------------------------------------------------------------------------------------------
15. Find users who have at least one post with a specific comment and a specific skill.
--------------------------------------------------------------------------------------------------
16. Count users who have skills javascript and react.
--------------------------------------------------------------------------------------------------
17. count user who have second skills as React
--------------------------------------------------------------------------------------------------
18. Categorise users by their city and gives their id and name.
--------------------------------------------------------------------------------------------------
19. Give user data whose city name starts with "New".
--------------------------------------------------------------------------------------------------
20. Add a "postCount" field representing the total number of posts for each user.
--------------------------------------------------------------------------------------------------
21. Add a "friendNames" field with the names of friends for each user.
--------------------------------------------------------------------------------------------------
22. Display posts data that have more than 1 comments.
--------------------------------------------------------------------------------------------------
